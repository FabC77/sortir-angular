@if (isLoading) {
<mat-progress-spinner></mat-progress-spinner>
}@else {
<h2 class="menu-title">HOME - WIP</h2>


<div class="form-search" [formGroup]="searchForm" (ngSubmit)="search()">
    <div style="display:flex; flex-direction: row; flex-wrap: wrap; margin-bottom: -20px;">
        <mat-form-field class="campusList">
            <mat-label>Campus</mat-label>
            <mat-select [(value)]="selectedCampus" (selectionChange)="search()">
                @for (camp of campusList; track $index) {
                <mat-option [value]="camp.id">{{camp.name}}</mat-option>
                }
            </mat-select>
        </mat-form-field>
        <input class="searchInput" appearance="fill" type="text" placeholder="Entrez un mot clé" id="searchbar"
            formControlName="keyword" />
        <div>
            <a class="clearButton" mat-stroked-button (click)="clear()" target="_blank">
                <!-- <mat-icon icon="delete"></mat-icon> -->

                Effacer
            </a>
        </div>
    </div>
    <div style="display: flex; flex-direction: row; align-items: center;  ">
        <div style="flex:1; padding-right: 12px;">
            <mat-form-field>
                <mat-label>Définissez une période</mat-label>
                <mat-date-range-input [rangePicker]="picker">
                    <input formControlName="startDate" matStartDate placeholder="Date minimale">
                    <input formControlName="endDate" matEndDate placeholder="Date maximale">
                </mat-date-range-input>
                <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-date-range-picker #picker></mat-date-range-picker>
            </mat-form-field>

        </div>
        <div style="flex:3; width: 100%; margin-top: -14px;"> <mat-checkbox (change)="updateFilter()">Masquer les
                sorties pleines</mat-checkbox> </div>

    </div>
</div>
<p>resultat (wip): </p>
@if (eventsLoading) {
<mat-progress-spinner></mat-progress-spinner>
}@else {
<div>
    @for (ev of searchedEvents; track $index) {
    @if (maskedFull && (ev.maxMembers != ev.currentMembers)) {
    {{ev.name}}

    } @else{
    {{ev.name}}
    }

    }
</div>
}

}